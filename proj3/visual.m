%% Pendulum, RRT, torque 3
records = [
-1.5708 0 
-1.53802 0.272564 
-1.45597 0.409869 
-1.36526 0.344975 
-1.31039 0.111897 
-1.31799 -0.175195 
-1.38439 -0.377591 
-1.47729 -0.395356 
-1.551 -0.217698 
-1.56899 0.068049 
-1.38322 1.4772 
-0.945018 2.1809 
-0.447666 2.02428 
-0.0490477 1.40623 
0.195177 0.724865 
0.289359 0.102835 
0.243574 -0.50561 
0.0523315 -1.16848 
-0.380514 -2.5715 
-1.08972 -3.41987 
-1.83865 -2.81391 
-2.27967 -0.876009 
-2.21417 1.42669 
-1.66984 3.11725 
-0.898041 3.31739 
-0.24374 2.24266 
0.108613 0.814538 
0.217556 0.139738 
0.173974 -0.522012 
-0.025695 -1.22039 
-0.384999 -1.87749 
-0.8606 -2.15438 
-1.31317 -1.62947 
-1.54996 -0.340655 
-1.45671 1.11627 
-1.39817 -0.62913 
-1.72192 -2.06366 
-2.2696 -2.51065 
-2.78522 -1.86266 
-3.09896 -0.84349 
-3.09902 0.842976 
-2.71453 2.46943 
-2.0069 3.50015 
-1.22482 3.00864 
-0.731969 1.12546 
-0.738731 -1.18259 
-1.24255 -3.04216 
-2.02738 -3.48984 
-2.72889 -2.43145 
-3.10383 -0.800048 
-2.90635 2.50994 
-1.98208 5.31642 
-0.521967 6.87943 
0.71096 3.89924 
1.35969 1.95061 
1.5724 -0.0219868];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, RRT, torque 3');
hold off

%% Pendulum, RRT, torque 5
records = [
% -1.5708 0 
% -1.61507 -0.368164 
% -1.7259 -0.553822 
% -1.84863 -0.467894 
% -1.92365 -0.157475 
% -1.9153 0.227096 
% -1.82752 0.504486 
% -1.70219 0.538731 
% -1.5059 1.0938 
% -1.2412 1.10963 
% -1.03623 0.602452 
% -0.98449 -0.169044 
% -1.10842 -0.868136 
% -1.35342 -1.175 
% -1.60455 -0.913977 
% -1.7385 -0.20031 
% -1.689 0.61215 
% -1.48051 1.12182 
% -1.31373 0.266325 
% -1.36807 -0.718869 
% -1.61698 -1.35167 
% -1.99201 -1.77142 
% -2.3695 -1.39467 
% -2.59485 -0.513487 
% -2.59466 0.515122 
% -2.25027 2.39621 
% -1.56687 3.30578 
% -0.854474 2.64016 
% -0.431551 0.944562 
% -0.437599 -0.996242 
% -0.871042 -2.67614 
% -1.58746 -3.30161 
% -2.26507 -2.35366 
% -2.54892 -0.0449339 
% -2.28464 2.27888 
% -1.5706 3.68137 
% -0.729362 3.34842 
% -0.118468 1.87337 
% 0.119608 0.198631 
% -0.0266077 -1.47368 
% -0.553411 -3.05431 
% -1.36581 -3.76369 
% -2.14665 -2.74029 
% -2.68869 -1.83994 
% -2.78628 1.00465 
% -2.24373 3.59893 
% -1.24248 4.74377 
% -0.226705 3.8412 
% 0.475764 2.30419 
% 0.871236 1.22801 
% 1.07768 0.631119 
% 1.18397 0.32908 
% 1.24143 0.190698 
% 1.27904 0.149666 
% 1.31612 0.186142 
% 1.37202 0.320181 
% 1.29211 -1.04409 
% 0.851648 -2.93128 
% 0.0464784 -4.20297 
% -1.08115 -5.40377 
% -2.26553 -4.46447 
% -3.00075 -1.803 
% -3.07815 1.13197 
% -2.48732 3.93489 
% -1.36719 5.42251 
% -0.383585 2.85891 
% -0.103736 -0.446901 
% -0.585344 -3.68646 
% -1.7117 -5.73517 
% -2.77557 -3.21733 
% -3.13578 0.105002 
% -2.72778 3.41673 
% -1.62845 5.81784 
% -0.25946 5.68668 
% 0.742839 3.1273 
% 1.25536 1.49113 
% 1.48531 0.59254 
% 1.55194 0.0116961 
-1.5708 0 
-1.6143 -0.361827 
-1.72323 -0.544274 
-1.84383 -0.459697 
-1.91749 -0.154293 
-1.90915 0.223903 
-1.82273 0.496228 
-1.69954 0.529119 
-1.59966 0.301653 
-1.57246 -0.0754804 
-1.70552 -1.0312 
-2.00745 -1.48445 
-2.33647 -1.27428 
-2.55733 -0.593403 
-2.59608 0.264136 
-2.28536 2.36446 
-1.55763 3.70949 
-0.768775 2.88107 
-0.312845 0.998594 
-0.324086 -1.09511 
-0.800094 -2.9521 
-1.59744 -3.70526 
-2.46947 -3.58771 
-2.96648 -0.663331 
-2.74499 2.56881 
-2.01374 3.60384 
-1.21053 3.08107 
-0.707565 1.14014 
-0.717412 -1.22341 
-1.23641 -3.13031 
-2.04371 -3.58912 
-2.76617 -2.5145 
-3.09985 -0.364144 
-2.79604 2.9883 
-1.77545 5.6102 
-0.414593 5.78563 
0.626133 3.31523 
1.17843 1.65041 
1.44579 0.770902 
1.56412 0.302055 
1.59706 -0.00329716 
];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, RRT, torque 5');
hold off

%% Pendulum, RRT, torque 10
records = [
% -1.5708 0 
% -1.54133 0.24505 
% -1.46757 0.368464 
% -1.38604 0.309854 
% -1.33685 0.0996254 
% -1.34398 -0.158966 
% -1.40396 -0.340291 
% -1.4875 -0.35469 
% -1.55342 -0.193581 
% -1.56904 0.0636585 
% -1.8072 -2.04477 
% -2.43454 -3.20815 
% -2.87255 -0.528 
% -2.67 2.26395 
% -1.87769 4.40545 
% -0.800954 4.5714 
% 0.100188 3.15556 
% 0.65642 1.76073 
% 0.950914 0.879897 
% 1.08971 0.371327 
% 1.13502 0.0378502 
% 1.10851 -0.277272 
% 1.06384 -0.125935 
% 1.04609 -0.0341422 
% 1.04693 0.0416899 
% 1.06674 0.137021 
% 1.11485 0.297258 
% 1.21439 0.6023 
% 1.41502 1.21454 
% 1.58069 0.287679 
% 1.58179 -0.27774 
% 1.53602 -0.137292 
% 1.51303 -0.071186 
% 1.50037 -0.0435847 
% 1.49121 -0.0395371 
% 1.48058 -0.0568385 
% 1.50565 0.284164 
% 1.53596 -0.00928266
-1.5708 0 
-1.49482 0.631874 
-1.3045 0.951953 
-1.09245 0.817232 
-0.9569 0.317735 
-0.974929 -0.468929 
-1.29163 -2.17756 
-1.89542 -2.84594 
-2.49804 -2.21194 
-2.85911 -0.86902 
-2.88661 0.632415 
-2.4199 3.34867 
-1.43735 4.8572 
-0.36171 4.18852 
0.417437 2.60005 
0.880988 1.53676 
1.17108 1.07845 
1.2916 0.012103 
1.30279 0.0892644 
1.33617 0.213059 
1.3894 0.269202 
1.45094 0.288661 
1.49744 0.132901 
1.5208 0.0789436 
1.54029 0.0977438 
1.55981 0.0793266 
1.57339 0.0437836 
 ];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, RRT, torque 10');
hold off

%% Pendulum, KPIECE1, torque 3
records = [
-1.5708 0 
-1.50497 0.547467 
-1.46729 -0.234083 
-1.6036 -0.899571 
-1.84633 -1.12026 
-2.07719 -0.806542 
-2.17709 -0.0302153 
-2.09011 0.758924 
-1.8539 1.21293 
-1.57727 1.08885 
-1.39511 0.426447 
-1.39746 -0.445968 
-1.58316 -1.09871 
-1.86041 -1.20839 
-2.09414 -0.743016 
-2.17688 0.0499055 
-1.95523 1.80451 
-1.4124 2.71294 
-0.809215 2.32965 
-0.407566 1.07837 
-0.340189 -0.501327 
-0.630601 -1.97462 
-1.20079 -2.81507 
-1.8252 -2.38036 
-2.20684 -0.80935 
-2.17109 1.10938 
-1.73342 2.54422 
-1.09702 2.7536 
-0.561028 1.76033 
-0.326305 0.244178 
-0.540071 -2.07116 
-1.2329 -3.756 
-2.13347 -3.74252 
-2.83315 -2.18563 
-3.10789 -0.188203 
-2.87885 2.16952 
-2.13808 4.11369 
-1.11945 4.36836 
-0.230641 3.15825 
0.18204 0.431382 
0.0753152 -1.36538 
-0.446731 -3.14207 
-1.3124 -4.14017 
-2.1788 -3.07699 
-2.62781 -0.717304 
-2.49288 1.86399 
-1.86972 3.36572 
-1.06709 3.31577 
-0.456135 1.84175 
-0.255388 -0.120841 
-0.510205 -2.06113 
-1.16035 -3.41443 
-1.99015 -3.4919 
-2.64493 -2.02484 
-2.87981 0.0131653 
-2.63904 2.04867 
-1.98004 3.50225 
-1.19318 3.04624 
-0.687967 1.1958 
-0.675235 -1.08803 
-1.1652 -3.02838 
-1.96065 -3.59167 
-2.69174 -2.56924 
-3.09493 -0.90239 
-3.10306 0.831744 
-2.5983 3.50888 
-1.56669 5.13366 
-0.423656 4.45629 
0.407437 2.77416 
0.890318 1.53534 
1.16052 0.900715 
1.33801 0.70546 
1.513 0.880676 
1.64675 0.332184 
1.67934 -0.036706 
1.61758 -0.523267 
1.56441 0.0410934 
];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, KPIECE1, torque 3');
hold off

%% Pendulum, KPIECE1, torque 5
records = [
-1.5708 0 
-1.47678 0.781922 
-1.24118 1.17944 
-0.977354 1.02541 
-0.8028 0.441408 
-0.875219 -1.05107 
-1.25376 -2.11651 
-1.77108 -2.18734 
-2.29516 -2.1933 
-2.49627 0.494286 
-2.08076 3.00395 
-1.21759 4.18203 
-0.302777 3.54127 
0.366155 2.28704 
0.778326 1.38158 
0.838998 -0.837215 
0.482227 -2.34856 
-0.27936 -4.30887 
-1.44562 -5.51268 
-2.53352 -3.58566 
-3.00757 -0.478058 
-2.74887 2.70573 
-1.8124 5.18135 
-0.550296 5.36808 
0.549974 4.20498 
1.24578 2.05021 
1.56966 0.885175 
1.68738 0.182258 
1.6609 -0.422294 
1.57413 -0.364589 
1.34688 -1.69569 
0.757174 -3.62401 
-0.213073 -4.91362 
-1.45681 -5.56846 
-2.57582 -3.79519 
-3.11558 -0.84617 
-2.94062 2.36253 
-2.06664 5.05269 
-0.783714 5.64109 
0.182984 2.67159 
0.471724 -0.122817 
0.331845 -1.11456 
-0.0539149 -2.26176 
-0.708782 -3.34467 
-1.63318 -4.37942 
-2.56143 -3.39689 
-3.1189 -1.39343 
-3.12876 1.30762 
-2.44701 4.54174 
-1.15863 6.20806 
0.208112 5.45554 
1.13157 2.79247 
1.5896 1.35708 
1.81091 0.649047 
1.91395 0.283716 
1.95235 0.0635357 
1.94559 -0.124652 
1.91387 -0.162231 
1.86473 -0.282493 
1.77288 -0.549381 
1.59001 -1.10843 
1.45333 -0.130961 
1.52445 0.775762 
1.61036 0.00336137
];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, KPIECE1, torque 5');
hold off

%% Pendulum, KPIECE1, torque 10
records = [
-1.5708 0 
-1.60076 -0.249223 
-1.67579 -0.374742 
-1.7587 -0.315174 
-1.80875 -0.101466 
-1.80154 0.161459 
-1.74059 0.345966 
-1.65563 0.360841 
-1.58853 0.197192 
-1.57256 -0.0643787 
-1.39349 1.55384 
-0.916211 2.43111 
-0.348536 2.37952 
0.145757 1.901 
0.535634 1.53847 
0.884557 1.5804 
1.16208 0.921545 
1.34261 0.712249 
1.51798 0.877333 
1.61035 -0.0396859 
1.59339 -0.114133 
1.50417 -0.694876 
1.24554 -1.64877 
0.683615 -3.41092 
-0.228565 -4.60125 
-1.38741 -5.17132 
-2.423 -3.4756 
-2.89143 -0.521213 
-2.65562 2.54278 
-1.77568 4.85322 
-0.59867 4.98204 
0.408452 3.74584 
1.07672 2.23538 
1.51412 1.72458 
1.672 -0.292933 
1.36744 -2.4687 
0.441987 -5.85257 
-0.989417 -6.45976 
-2.34062 -4.80386 
-3.06132 -1.35851 
-2.88942 2.84574 
-1.76614 6.63572 
-0.0750464 7.59183 
1.21675 3.90813 
1.85949 1.91815 
2.17423 0.923756 
2.3158 0.34837 
2.42073 0.591607 
2.53255 0.406467 
2.59778 0.173982 
2.61626 -0.00981467 
2.60047 -0.130445 
2.57272 -0.116352 
2.54442 -0.135554 
2.50728 -0.195412 
2.44983 -0.31734 
2.35306 -0.548482 
2.18161 -0.991327 
1.82058 -2.26923 
1.56951 -0.00699573
];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, KPIECE1, torque 10');
hold off

%%
records = [
% -1.5708 0 
% -1.49482 0.631874 
% -1.3045 0.951953 
% -1.09245 0.817232 
% -0.9569 0.317735 
% -0.956544 -0.314746 
% -1.24435 -2.09192 
% -1.84165 -2.87765 
% -2.46267 -2.32868 
% -2.85399 -1.00772 
% -2.91309 0.499113 
% -2.47377 3.25437 
% -1.50031 4.88393 
% -0.405338 4.31138 
% 0.41275 2.80885 
% 0.926278 1.77679 
% 1.22621 0.930132 
% 1.38946 0.548287 
% 1.50038 0.457228 
% 1.6184 0.613016 
% 1.80733 1.09954 
-1.5708 0 
-1.49482 0.631874 
-1.3045 0.951953 
-1.09245 0.817232 
-0.9569 0.317735 
-0.977572 -0.491092 
-1.29841 -2.18977 
-1.90312 -2.84134 
-2.50311 -2.19538 
-2.8599 -0.849369 
-2.88292 0.651298 
-2.41235 3.36181 
-1.42857 4.85319 
-0.355662 4.17145 
0.429011 2.66753 
0.910671 1.63368 
1.2315 1.26119 
1.3735 0.024858 
1.38347 0.0654363 
1.40298 0.111417 
1.42621 0.099179 
1.44936 0.110653 
1.47186 0.0932851 
1.48307 0.00839322 
1.48905 0.0458332 
1.49952 0.0491152 
1.51364 0.0789379 
1.52931 0.0630853 
1.54199 0.0519204 
1.54881 0.00995243
];
figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, RGRRT, torque 3');
hold off


%% test
records = [
-1.5708 0 
-1.49482 0.631874 
-1.3045 0.951953 
-1.09245 0.817232 
-0.9569 0.317735 
-0.956544 -0.314746 
-1.24435 -2.09192 
-1.84165 -2.87765 
-2.46267 -2.32868 
-2.85399 -1.00772 
-2.91309 0.499113 
-2.62984 1.927 
-1.98771 3.48186 
-1.07532 4.11325 
-0.231517 3.03693 
0.289193 1.50004 
0.472597 0.121315 

];

figure;
hold on
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('\theta');
ylabel('\omega');
title('Pendulum, RGRRT, torque 3');
hold off

%% car, RRT
figure;
hold on
axis equal
xlim([-5, 5]);
ylim([-10, 10]);
rectangle('Position', [-5 6 10 2], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -4 3 7], 'FaceColor',[0 .5 .5]);
rectangle('Position', [2.5 -4 2.5 7], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -10 10 4], 'FaceColor',[0 .5 .5]);

records = [
    -4 -5 0 0 
-3.94748 -5.09699 0.65851 -1.60387 
-3.9152 -5.34035 0.711346 -1.27818 
-3.79842 -5.57759 0.764182 -0.952494 
-3.59855 -5.77844 0.817018 -0.626806 
-3.32798 -5.91326 0.869853 -0.301118 
-3.00974 -5.95702 0.922689 0.0245702 
-2.67562 -5.89314 0.975525 0.350258 
-2.36301 -5.71641 1.02836 0.675946 
-2.11072 -5.43486 1.0812 1.00163 
-1.86895 -5.23382 0.697659 0.337671 
-1.69021 -5.22525 0.31412 -0.326291 
-1.65138 -5.24572 -0.0694181 -0.990254 
-1.66676 -5.15439 -0.452956 -1.65422 
-1.56789 -4.94896 -0.836495 -2.31818 
-1.24392 -4.78413 -1.22003 -2.98214 
-1.07187 -4.69089 0.102181 -1.86545 
-0.96247 -4.93142 1.4244 -0.748752 
-0.254845 -5.02409 2.74661 0.367943 
0.410186 -4.06778 4.06883 1.48464 
0.154378 -2.50816 4.79765 1.96878 
0.132471 -0.607893 6.00708 1.22392 
1.68477 1.12401 7.21651 0.479061 
2.45912 3.09179 5.69484 1.97373 
2.20863 4.82526 4.15718 1.42625 
2.67505 5.93621 2.61952 0.878764 
3.2872 5.99689 1.26951 -0.897539 
3.31223 5.80006 -0.0805027 -2.67384 
3.31247 5.78012 0.184481 -1.4344 
3.19258 5.80079 -0.879703 0.246458 
3.12267 5.78161 0.482018 -0.0792107 
3.29447 5.76995 0.474612 -0.0563344 
3.46382 5.76233 0.467207 -0.033458 
3.63064 5.75866 0.459801 -0.0105817 
3.79483 5.75879 0.452396 0.0122946 
3.95631 5.76262 0.44499 0.0351709 
4.02865 5.76698 -0.0423139 0.119357 
4.20149 5.63736 1.28243 -1.00341 
4.16224 4.97318 2.60717 -2.12618 
3.70598 4.58019 0.808407 -2.86577 
3.58936 4.34106 0.855459 -1.19985 
3.85253 4.24228 0.902511 0.46607 
3.92991 4.52813 0.949563 2.13199 
3.90397 4.73315 0.249887 1.04682 
3.86331 4.73597 -0.449789 -0.0383568 
3.74551 4.74262 -0.205756 -0.0795773 
3.71548 4.74534 0.0382777 -0.120798 
3.75002 4.74591 0.153963 0.108042 
3.7568 4.74658 -0.116113 0.122072 
3.74881 4.74553 0.0713887 0.0810422 
3.77365 4.74751 0.0670218 0.077944 
3.79692 4.74929 0.0626549 0.0748458 
3.81863 4.75089 0.0582881 0.0717477 
3.83878 4.7523 0.0539212 0.0686495 
3.85736 4.75355 0.0495543 0.0655513 
3.87438 4.75464 0.0451875 0.0624531 
3.88984 4.75559 0.0408206 0.0593549 
];
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('x');
ylabel('y');
title('Car, RRT');
hold off

%% car, RGRRT
figure;
hold on
axis equal
xlim([-5, 5]);
ylim([-10, 10]);
rectangle('Position', [-5 6 10 2], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -4 5 8], 'FaceColor',[0 .5 .5]);
rectangle('Position', [2.5 -4 2.5 8], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -10 10 4], 'FaceColor',[0 .5 .5]);

records = [
-4 -5 0 0 
-3.65513 -4.97658 1.72881 0.101695 
-2.52756 -5.18978 4.0678 -0.40678 
-0.227446 -4.02774 10.0678 1.11864 
0.13069 0.798856 14.6441 1.83051 
1.55052 -0.120578 14.9492 -2.94915 
1.81051 -0.353741 11.3898 3.05085 
0.0129865 2.43025 8.0339 1.11864 
-0.476171 4.26759 2.64407 2.84746 
-0.521875 4.58045 -0.711864 -1.72881 
-0.479755 4.63992 0.610169 -2.12911e-14 
-0.175248 4.65645 0.915254 0.101695 
0.169901 4.67436 0.813559 -2.21283e-14 
0.474478 4.68952 0.711864 0.101695 
0.738412 4.70329 0.610169 -2.2961e-14 
0.961773 4.71432 0.508475 0.101695 
1.18513 4.72534 0.610169 -2.37936e-14 
1.40849 4.73636 0.508475 0.101695 
1.59121 4.746 0.40678 -2.46263e-14 
1.77393 4.75565 0.508475 0.101695 
1.95665 4.76529 0.40678 -2.5459e-14 
2.09879 4.77218 0.305085 0.101695 
2.24094 4.77907 0.40678 -2.62916e-14 
3.03225 4.7281 3.55932 -0.101695 
4.09514 5.08111 2.23729 0.813559 
4.31386 5.34862 -0.508475 1.11864 
4.18632 5.16586 -0.610169 0.813559 
4.06654 5.09359 -0.101695 0.101695 
4.04625 5.09222 8.4472e-14 -2.63055e-14
% -4 -5 0 0 
% -3.68849 -4.98591 1.55932 0.0677966 
% -3.05268 -5.00793 1.62712 -0.135593 
% -2.49814 -5.02995 1.15254 0.0677966 
% -2.05103 -5.01464 1.08475 -6.13713e-16 
% -0.845469 -4.96502 4.94915 0.0677966 
% 1.16707 -3.26797 8.94915 1.22034 
% 1.35046 -0.162549 6.84746 1.83051 
% 2.06734 1.46989 2.98305 0.271186 
% 2.4575 2.4649 3.18644 2.10169 
% 2.67992 3.90271 4.61017 0.813559 
% 3.4314 4.84454 1.42373 1.01695 
% 3.64665 5.01835 -6.59264e-14 -9.31286e-15 
];
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('x');
ylabel('y');
title('Car, RGRRT');
hold off

%%
figure;
hold on
axis equal
xlim([-5, 5]);
ylim([-10, 10]);
rectangle('Position', [-5 6 10 2], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -4 3 7], 'FaceColor',[0 .5 .5]);
rectangle('Position', [2.5 -4 2.5 7], 'FaceColor',[0 .5 .5]);
rectangle('Position', [-5 -10 10 4], 'FaceColor',[0 .5 .5]);
title('car environment');

records = [
    -4 -5 0 0 
-3.99338 -5.01413 0.13 -1.69 
-3.99011 -5.01569 -0.13 -2.34 
-3.83273 -4.91847 -1.3 -2.73 
-3.48809 -4.7393 -1.69 -2.6 
-3.06758 -4.52302 -1.95 -2.73 
-2.7361 -4.35518 -0.91 -2.6 
-2.45926 -4.29983 -1.3 3.03319 
-2.15596 -4.29474 -1.04 -2.99 
-1.96088 -4.24135 -0.52 -2.73 
-1.77146 -4.10193 -1.3 -2.34 
-1.52082 -3.80519 -1.69 -2.21 
-1.33942 -3.42658 -1.56 -1.82 
-1.07027 -3.0272 -2.21 -2.47 
-0.792443 -2.80637 -0.52 -2.47 
-0.580527 -2.70435 -1.3 -2.86 
-0.226169 -2.54727 -1.69 -2.6 
0.273467 -2.41031 -2.34 -3.12 
0.706171 -2.52869 -1.17 2.51319 
0.877041 -2.73435 -0.91 1.99319 
0.856257 -2.68811 1.3 1.99319 
0.721403 -2.32384 1.69 1.86319 
0.64312 -1.99527 0.91 1.73319 
0.636775 -1.64139 1.82 1.47319 
0.566556 -1.02394 2.99 1.86319 
0.481286 -0.59391 0.39 1.60319 
0.539268 -0.457289 0.78 0.823185 
0.812279 -0.113353 2.6 0.953185 
1.19253 0.505323 2.99 1.08319 
1.31528 1.24236 2.86 1.73319 
1.04815 1.77729 1.82 2.38319 
0.681888 2.17466 2.34 2.25319 
0.391866 2.72417 2.47 1.86319 
0.138726 3.15702 1.43 2.38319 
0.0601034 3.48268 1.3 1.21319 
0.260724 3.85318 1.95 0.953185 
0.380299 4.41737 2.6 1.73319 
0.358284 5.07425 2.47 1.47319 
0.1262 5.46061 1.3 2.90319 
0.0135426 5.49707 -0.39 2.51319 
0.286973 5.29837 -2.21 2.51319 
0.865527 5.24114 -2.47 -2.73 
1.49412 5.29571 -2.47 2.90319 
2.12246 5.05158 -2.73 2.64319 
2.65781 4.80102 -1.82 2.77319 
3.05588 4.75185 -1.3 -2.99 
3.31007 4.839 -0.78 -2.6 
3.45489 4.92612 -0.52 -2.6 
3.49756 4.9535 0.13 -2.47 
3.46882 4.9124 0.26 -1.95 
3.45909 4.8801 5.58013e-14 -1.69 
3.45673 4.89676 -0.13 -1.3 
3.43506 4.92118 -0.13 -0.39 
3.4188 4.9255 5.57963e-14 -4.61428e-14 
];
for ii = 2:size(records, 1)-1
    p1 = records(ii, :);
    plot(p1(1), p1(2), 'r*');
    p2 = records(ii+1,:);
    plot([p1(1) p2(1)], [p1(2) p2(2)], 'Color', [1 0 0]);
end
plot([records(1,1) records(2,1)], [records(1,2) records(2,2)], 'Color', [1 0 0]);
plot(records(1,1), records(1,2), 'gs');
plot(records(end,1), records(end, 2), 'gs');
xlabel('x');
ylabel('y');
title('Car, RGRRT');
hold off
hold off

%%
